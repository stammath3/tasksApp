<app-header />


<main>
  <ul id="users">
    @for (user of users; track user.id) {
      <li>
        <app-user 
        [user]="user"
        [selected]="user.id === selectedUserId"
        (select)="onSelectUser($event)" />
      </li>
    }
  
    <!-- legacy way -->
      <!-- <li *ngFor="let user of users">
        <app-user 
        [user]="user"
        (select)="onSelectUser($event)" />
      </li> -->
   
  </ul>

  <div>
    <!-- <app-tasks userName="{{userName}}" /> -->
     @if (selectedUser) {
      <app-tasks [userName]="selectedUser ? selectedUser.name: 'none'"
      [userId]="selectedUser ? selectedUser.id: ''" /> 
     } @else if(!selectedUser) {
        <p id = "fallback">Select a user to see tasks!</p>
     } @else {

     }

    
     <!-- Legacy way -->
      <!-- <app-tasks *ngIf="selectedUser; else fallback" [userName]="selectedUser ? selectedUser.name: 'none'" /> 
     
      <ng-template #fallback>
        <p id = "fallback">Select a user to see tasks!</p>
      </ng-template> -->
    

    
  </div>
</main>